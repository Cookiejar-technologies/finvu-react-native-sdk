{"version":3,"file":"Finvu.types.js","sourceRoot":"","sources":["../src/Finvu.types.ts"],"names":[],"mappings":"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","sourcesContent":["export type ChangeEventPayload = {\n  value: string;\n};\n\nexport type FinvuViewProps = {\n  name: string;\n};\n\nexport enum FinvuEnviornment {\n  PRODUCTION = \"PRODUCTION\",\n  UAT = \"UAT\",\n}\n\nexport type FinvuAuthSNAConfig = {\n  environment: FinvuEnviornment;\n}\n\nexport type FinvuConfig ={\n  finvuEndpoint: string;\n  certificatePins?: string[];\n  finvuAuthSNAConfig?: FinvuAuthSNAConfig;\n}\n\nexport interface LoginWithUsernameOrMobileNumberResponse {\n  authType : string;\n  reference: string;\n  snaToken?: string;\n}\n\nexport interface DiscoveredAccount {\n  fiType: string;\n  accountReferenceNumber: string;\n  accountType: string;\n  maskedAccountNumber: string;\n}\n\nexport interface TypeIdentifier {\n  category: string;\n  type: string;\n}\n\nexport interface FipFiTypeIdentifier {\n  fiType: string;\n  identifiers: TypeIdentifier[];\n}\n\nexport interface FipDetails {\n  fipId: string;\n  typeIdentifiers: FipFiTypeIdentifier[];\n}\n\n// UserInfo\nexport interface UserInfo {\n  userId: string;\n  mobileNumber: string;\n  emailId: string;\n}\n\n// FipDetails & Related Classes\nexport interface FipDetails {\n  fipId: string;\n  typeIdentifiers: FipFiTypeIdentifier[];\n}\n\nexport interface FipFiTypeIdentifier {\n  fiType: string;\n  identifiers: TypeIdentifier[];\n}\n\nexport interface TypeIdentifier {\n  category: string;\n  type: string;\n}\n\n// Linked Account\nexport interface LinkedAccount {\n  accountReferenceNumber: string;\n  customerAddress: string;\n  linkReferenceNumber: string;\n  status: string;\n}\n\nexport interface LinkedAccountDetails {\n  userId: string;\n  fipId: string;\n  fipName: string;\n  maskedAccountNumber: string;\n  accountReferenceNumber: string;\n  linkReferenceNumber: string;\n  consentIdList: string[] | null;\n  fiType: string;\n  accountType: string;\n  linkedAccountUpdateTimestamp: Date | null;\n  authenticatorType: string;\n}\n\n// Consent Related Models\nexport interface ConsentDetail {\n  consentId: string | null;\n  consentHandle: string;\n  statusLastUpdateTimestamp: Date | null;\n  financialInformationUser: FinancialInformationEntity;\n  consentPurpose: ConsentPurpose;\n  consentDisplayDescriptions: string[];\n  dataDateTimeRange: DateTimeRange;\n  consentDateTimeRange: DateTimeRange;\n  consentDataLife: ConsentDataLifePeriod;\n  consentDataFrequency: ConsentDataFrequency;\n  fiTypes: string[] | null;\n}\n\nexport interface DateTimeRange {\n  from: Date;\n  to: Date;\n}\n\nexport interface ConsentDataFrequency {\n  unit: string;\n  value: number;\n}\n\nexport interface ConsentDataLifePeriod {\n  unit: string;\n  value: number;\n}\n\nexport interface FinancialInformationEntity {\n  id: string;\n  name: string;\n}\n\nexport interface ConsentPurpose {\n  code: string;\n  text: string;\n}\n\nexport interface ConsentAccountDetails {\n  fiType: string;\n  fipId: string;\n  accountType: string;\n  accountReferenceNumber: string | null;\n  maskedAccountNumber: string;\n  linkReferenceNumber: string;\n}\n\nexport interface ConsentInfoDetails {\n  consentHandle: string | null;\n  consentId: string | null;\n  consentStatus: string;\n  statusLastUpdateTimestamp: string;\n  financialInformationProvider: FinancialInformationEntity | null;\n  financialInformationUser: FinancialInformationEntity | null;\n  consentPurpose: ConsentPurpose;\n  consentDisplayDescriptions: string[];\n  dataDateTimeRange: DateTimeRange;\n  consentDateTimeRange: DateTimeRange;\n  consentDataLife: ConsentDataLifePeriod;\n  consentDataFrequency: ConsentDataFrequency;\n  accounts: ConsentAccountDetails[];\n  fiTypes: string[] | null;\n  accountAggregator: AccountAggregatorView;\n}\n\nexport interface AccountAggregatorView {\n  id: string;\n}\n\nexport interface FIPReferenceView {\n  fipId: string;\n  fipName?: string;\n}\n\n/**\n * Consent Handle Status enum\n */\nexport enum ConsentHandleStatus {\n  ACCEPT = \"ACCEPT\",\n  DENY = \"DENY\",\n  PENDING = \"PENDING\",\n}\n\n/**\n * Response for getConsentHandleStatus\n */\nexport interface ConsentHandleStatusResponse {\n  status: ConsentHandleStatus;\n}\n\nexport interface DiscoveredAccount {\n  accountReferenceNumber: string;\n  accountType: string;\n  fiType: string;\n  maskedAccountNumber: string;\n}\n\nexport interface DiscoverAccountsResponse {\n  discoveredAccounts: DiscoveredAccount[];\n}\n\nexport interface TypeIdentifier {\n  category: string;\n  type: string;\n}\n\nexport interface FipFiTypeIdentifier {\n  fiType: string;\n  identifiers: TypeIdentifier[];\n}\n\nexport interface FipDetails {\n  fipId: string;\n  typeIdentifiers: FipFiTypeIdentifier[];\n}\n\n\n/**\n * FIP information interface matching Kotlin data class\n */\nexport interface FIPInfo {\n  fipId: string;\n  productName?: string;\n  fipFiTypes: string[];\n  fipFsr?: string;\n  productDesc?: string;\n  productIconUri?: string;\n  enabled: boolean;\n}\n\n/**\n * Response for all FIP options matching Kotlin data class\n */\nexport interface FipsAllFIPOptionsResponse {\n  searchOptions: FIPInfo[];\n}\n\n// Event Tracking Types\n\n/**\n * Event Definition for custom events\n */\nexport interface EventDefinition {\n  category: string;\n  count?: number;\n  stage?: string;\n  fipId?: string;\n  fips?: string[];\n  fiTypes?: string[];\n}\n\n/**\n * Finvu Event structure\n */\nexport interface FinvuEvent {\n  eventName: string;\n  eventCategory: string;\n  timestamp: string;\n  aaSdkVersion: string;\n  params: Record<string, any>;\n}\n\n/**\n * Event Listener callback type\n */\nexport type FinvuEventListener = (event: FinvuEvent) => void;\n\n/**\n * Standard SDK Event Types (matching native enum)\n */\nexport enum FinvuEventType {\n  // WebSocket Events\n  WEBSOCKET_CONNECTED = \"WEBSOCKET_CONNECTED\",\n  WEBSOCKET_DISCONNECTED = \"WEBSOCKET_DISCONNECTED\",\n  \n  // Redirection Events\n  CONSENT_REQUEST_VALID = \"CONSENT_REQUEST_VALID\",\n  CONSENT_REQUEST_INVALID = \"CONSENT_REQUEST_INVALID\",\n  \n  // Authentication Events\n  LOGIN_INITIATED = \"LOGIN_INITIATED\",\n  LOGIN_OTP_GENERATED = \"LOGIN_OTP_GENERATED\",\n  LOGIN_OTP_FAILED = \"LOGIN_OTP_FAILED\",\n  LOGIN_OTP_LOCKED = \"LOGIN_OTP_LOCKED\",\n  LOGIN_OTP_VERIFIED = \"LOGIN_OTP_VERIFIED\",\n  LOGIN_OTP_NOT_VERIFIED = \"LOGIN_OTP_NOT_VERIFIED\",\n  LOGIN_FALLBACK_INITIATED = \"LOGIN_FALLBACK_INITIATED\",\n  \n  // Discovery Events\n  DISCOVERY_INITIATED = \"DISCOVERY_INITIATED\",\n  ACCOUNTS_DISCOVERED = \"ACCOUNTS_DISCOVERED\",\n  DISCOVERY_FAILED = \"DISCOVERY_FAILED\",\n  ACCOUNTS_NOT_DISCOVERED = \"ACCOUNTS_NOT_DISCOVERED\",\n  \n  // Linking Events\n  LINKING_INITIATED = \"LINKING_INITIATED\",\n  LINKING_OTP_GENERATED = \"LINKING_OTP_GENERATED\",\n  LINKING_OTP_FAILED = \"LINKING_OTP_FAILED\",\n  LINKING_SUCCESS = \"LINKING_SUCCESS\",\n  LINKING_FAILURE = \"LINKING_FAILURE\",\n  \n  // Consent Events\n  LINKED_ACCOUNTS_SUMMARY = \"LINKED_ACCOUNTS_SUMMARY\",\n  CONSENT_APPROVED = \"CONSENT_APPROVED\",\n  CONSENT_DENIED = \"CONSENT_DENIED\",\n  APPROVE_CONSENT_FAILED = \"APPROVE_CONSENT_FAILED\",\n  CONSENT_HANDLE_FAILED = \"CONSENT_HANDLE_FAILED\",\n  GET_CONSENT_STATUS_FAILED = \"GET_CONSENT_STATUS_FAILED\",\n  \n  // Error Events\n  SESSION_ERROR = \"SESSION_ERROR\",\n  SESSION_FAILURE = \"SESSION_FAILURE\",\n}\n\n/**\n * Backend Error Codes\n * These error codes are returned directly from the backend API.\n */\nexport enum FinvuBackendErrorCode {\n  // Common Response Codes\n  F200 = \"F200\", // Success\n  F400 = \"F400\", // Bad request\n  F401 = \"F401\", // Unauthorized\n  F402 = \"F402\", // Session Error\n  F403 = \"F403\", // User Mismatched\n  F404 = \"F404\", // Record not found\n  F405 = \"F405\", // Invalid FIU\n  F406 = \"F406\", // Invalid FIP\n  F407 = \"F407\", // FIP Failure\n  F408 = \"F408\", // User Mismatched\n  F429 = \"F429\", // Max attempts exceeded\n  F500 = \"F500\", // Internal server error\n}\n\n/**\n * Auth Flow Error Codes\n */\nexport enum FinvuAuthErrorCode {\n  A001 = \"A001\", // Invalid login user format\n  A002 = \"A002\", // User session not found\n  A003 = \"A003\", // OTP Initiation Failed\n  A004 = \"A004\", // Login OTP verification failed\n  A005 = \"A005\", // Invalid OTP\n  A006 = \"A006\", // Invalid OTP Reference\n}\n\n/**\n * Discovery & Linking Flow Error Codes\n */\nexport enum FinvuDiscoveryErrorCode {\n  D001 = \"D001\", // User ID mismatch with the requested user\n  D002 = \"D002\", // Unsupported financial information type\n  D003 = \"D003\", // Device not authenticated\n  D004 = \"D004\", // Email not authenticated\n  D005 = \"D005\", // Aadhar not authenticated\n  D006 = \"D006\", // Authenticator required for this operation\n  D007 = \"D007\", // Invalid Financial Information Provider (FIP)\n  D008 = \"D008\", // FIP operation failed\n  D009 = \"D009\", // Account already linked\n  D010 = \"D010\", // No linked accounts found\n  D011 = \"D011\", // Account reference number not found in linked accounts\n}\n\n/**\n * Consent Flow Error Codes\n */\nexport enum FinvuConsentErrorCode {\n  C001 = \"C001\", // Consent expired\n  C002 = \"C002\", // Consent already actioned\n  C003 = \"C003\", // Record not found\n  C004 = \"C004\", // Consent denied by user\n  C005 = \"C005\", // Invalid or malformed consent\n  C006 = \"C006\", // User mismatch\n  C007 = \"C007\", // FIU mismatch\n  C008 = \"C008\", // Invalid linked account\n  C009 = \"C009\", // Consent handle not found\n  C010 = \"C010\", // Consent handle required\n}\n\n/**\n * SDK Error Codes\n * These error codes are generated by the SDK itself when the backend returns a null error code or for SDK-specific errors.\n */\nexport enum FinvuSDKErrorCode {\n  AUTH_LOGIN_RETRY = \"1001\", // Triggered when the login attempt fails, and the system retries the login process.\n  AUTH_LOGIN_FAILED = \"1002\", // Occurs when the login attempt fails permanently (incorrect credentials, etc.).\n  AUTH_FORGOT_PASSWORD_FAILED = \"1003\", // Raised when the request to reset the password fails.\n  AUTH_LOGIN_VERIFY_MOBILE_NUMBER = \"1004\", // Indicates the need to verify the mobile number during the login process.\n  AUTH_FORGOT_HANDLE_FAILED = \"1005\", // Raised when the handle (email/username) for the forgot password process fails.\n  SESSION_DISCONNECTED = \"8000\", // Occurs when the user session is unexpectedly disconnected.\n  SSL_PINNING_FAILURE_ERROR = \"8001\", // Triggered when SSL pinning fails during the network request.\n  RECORD_NOT_FOUND = \"8002\", // Raised when the requested record is not found in the database.\n  LOGOUT = \"9000\", // Triggered when the user successfully logs out of the application.\n  GENERIC_ERROR = \"9999\", // A catch-all error for unspecified issues or unhandled exceptions.\n}\n\n/**\n * Union type of all error codes\n */\nexport type FinvuErrorCode = \n  | FinvuBackendErrorCode\n  | FinvuAuthErrorCode\n  | FinvuDiscoveryErrorCode\n  | FinvuConsentErrorCode\n  | FinvuSDKErrorCode\n  | string; // Allow for any string error code\n\n/**\n * Finvu Error interface\n */\nexport interface FinvuError {\n  code: FinvuErrorCode;\n  message: string;\n}\n\n/**\n * Helper function to check if an error code is a specific type\n */\nexport function isBackendError(code: string): boolean {\n  return code.startsWith('F') && /^F\\d{3}$/.test(code);\n}\n\nexport function isAuthError(code: string): boolean {\n  return code.startsWith('A') && /^A\\d{3}$/.test(code);\n}\n\nexport function isDiscoveryError(code: string): boolean {\n  return code.startsWith('D') && /^D\\d{3}$/.test(code);\n}\n\nexport function isConsentError(code: string): boolean {\n  return code.startsWith('C') && /^C\\d{3}$/.test(code);\n}\n\nexport function isSDKError(code: string): boolean {\n  return ['1001', '1002', '1003', '1004', '1005', '8000', '8001', '8002', '9000', '9999'].includes(code);\n}"]}